<main>
  <h1>Account Management</h1>

  <!-- Flash messages -->
  <% if (messages && messages.length > 0) { %>
    <div class="flash-message">
      <% messages.forEach(msg => { %>
        <p><%= msg %></p>
      <% }) %>
    </div>
  <% } %>

  <!-- Validation errors -->
  <% if (errors && errors.length > 0) { %>
    <ul class="validation-errors">
      <% errors.forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <!-- Welcome message -->
  <h2>Welcome <%= accountData.account_firstname %> ðŸ‘‹</h2>
  <p>You're logged in as a <%= accountData.account_type %>.</p>

  <!-- Update account information link (visible for all users) -->
  <!-- <p>
    <a href="/account/update/<%= accountData.account_id %>" class="btn">Update Account Information</a>
  </p> -->
  <h2>Profile Picture</h2>

<% if (accountData.account_profile_image) { %>
  <img src="/images/profiles/<%= accountData.account_profile_image %>" alt="Profile Image" width="150" height="150">
<% } else { %>
  <p>No profile image uploaded.</p>
<% } %>

<form action="/account/upload-profile" method="POST" enctype="multipart/form-data">
  <label for="profileImage">Upload new profile picture:</label>
  <input type="file" name="profileImage" id="profileImage" accept="image/*" required>
  <button type="submit">Upload</button>
</form>


  <!-- Show Inventory Management access only for Employee or Admin -->
  <% if (accountData.account_type === "Employee" || accountData.account_type === "Admin") { %>
    <h3>Inventory Management</h3>
    <p>
      <a href="/inv" class="btn">Go to Inventory Management</a>
    </p>
  <% } %>
</main>
